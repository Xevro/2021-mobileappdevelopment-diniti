"use strict";(self.webpackChunkdiniti=self.webpackChunkdiniti||[]).push([[7511],{9388:(O,_,r)=>{r.d(_,{r:()=>m});var l=r(7272),g=r(4683),a=r(6274);const d=function(s){return{"dark-button":s}};let m=(()=>{class s{constructor(){this.invertColor=!1,this.disabled=!1}ngOnInit(){}}return s.\u0275fac=function(c){return new(c||s)},s.\u0275cmp=l.Xpm({type:s,selectors:[["app-button"]],inputs:{buttonText:"buttonText",invertColor:"invertColor",disabled:"disabled"},decls:2,vars:5,consts:[[3,"disabled","ngClass"]],template:function(c,p){1&c&&(l.TgZ(0,"ion-button",0),l._uU(1),l.qZA()),2&c&&(l.Q6J("disabled",p.disabled)("ngClass",l.VKq(3,d,p.invertColor)),l.xp6(1),l.Oqu(p.buttonText))},directives:[g.YG,a.mk],styles:["ion-button[_ngcontent-%COMP%]{width:280px;height:40px;margin-top:20px;--color: var(--color-app-primary);--border-radius: 50px;--background: #FFF}.dark-button[_ngcontent-%COMP%]{--color: #FFF;--background: var(--color-app-primary)}"]}),s})()},7952:(O,_,r)=>{r.d(_,{h:()=>m});var l=r(6274),g=r(4988),a=r(4683),d=r(7272);let m=(()=>{class s{}return s.\u0275fac=function(c){return new(c||s)},s.\u0275mod=d.oAB({type:s}),s.\u0275inj=d.cJS({imports:[[l.ez,g.u5,a.Pc]]}),s})()},7511:(O,_,r)=>{r.r(_),r.d(_,{OrderDetailsPageModule:()=>R});var l=r(6274),g=r(4988),a=r(4683),d=r(4029),m=r(7906),s=r(4293),t=r(7272),c=r(3826),p=r(7046),P=r(1204),h=r(9388),v=r(4630);let x=(()=>{class e{transform(n){return Object.keys(n).filter(o=>isNaN(+o)).map(o=>[n[o],o])}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275pipe=t.Yjl({name:"enumToArray",type:e,pure:!0}),e})();function C(e,i){if(1&e){const n=t.EpF();t.TgZ(0,"ion-button",10),t.NdJ("click",function(){return t.CHM(n),t.oxw(2).editOrder()}),t._UZ(1,"ion-icon",11),t.qZA()}}function Z(e,i){if(1&e){const n=t.EpF();t.TgZ(0,"ion-button",10),t.NdJ("click",function(){return t.CHM(n),t.oxw(2).hideEditOrder()}),t._UZ(1,"ion-icon",12),t.qZA()}}function T(e,i){if(1&e&&(t.TgZ(0,"ion-buttons"),t.YNc(1,C,2,0,"ion-button",9),t.YNc(2,Z,2,0,"ion-button",9),t.qZA()),2&e){const n=t.oxw();t.xp6(1),t.Q6J("ngIf",!n.edit),t.xp6(1),t.Q6J("ngIf",n.edit)}}function M(e,i){1&e&&(t.TgZ(0,"p"),t._uU(1,"Bestellings gegevens laden..."),t.qZA())}function y(e,i){1&e&&(t.TgZ(0,"p"),t._uU(1,"Kon de bestellings gegevens niet laden."),t.qZA())}function A(e,i){if(1&e&&(t.TgZ(0,"div"),t.TgZ(1,"p"),t._uU(2,"Bestelling nr: "),t.TgZ(3,"a"),t._uU(4),t.qZA(),t.qZA(),t.TgZ(5,"p"),t._uU(6,"Status bestelling: "),t.TgZ(7,"a"),t._uU(8),t.qZA(),t.qZA(),t.TgZ(9,"p"),t._uU(10,"Ophaal moment: "),t.TgZ(11,"a"),t._uU(12),t.ALo(13,"stringtodate"),t.qZA(),t.qZA(),t.TgZ(14,"p"),t._uU(15,"Totaal prijs: "),t.TgZ(16,"a"),t._uU(17),t.ALo(18,"currency"),t.qZA(),t.qZA(),t.TgZ(19,"p"),t._uU(20),t.qZA(),t.qZA()),2&e){const n=t.oxw();let o;t.xp6(4),t.hij("#",null==n.order?null:n.order.orderId,""),t.xp6(4),t.Oqu(null==n.order?null:n.order.status),t.xp6(4),t.Oqu(t.lcZ(13,5,null==n.order?null:n.order.pickUpTime)),t.xp6(5),t.Oqu(0!==(null==n.order?null:n.order.totalPrice)?t.xi3(18,7,null==n.order?null:n.order.totalPrice,"EUR"):" --"),t.xp6(3),t.hij("Op te halen door: ",(null!==(o=null==n.user?null:n.user.firstname)&&void 0!==o?o:"--")+" "+(null!==(o=null==n.user?null:n.user.lastname)&&void 0!==o?o:"--"),"")}}function b(e,i){1&e&&(t.TgZ(0,"p"),t._uU(1,"Bestelling laden..."),t.qZA())}function D(e,i){1&e&&(t.TgZ(0,"h2"),t._uU(1,"Bestelling"),t.qZA())}function U(e,i){if(1&e&&(t.TgZ(0,"div"),t._UZ(1,"app-product-list",14),t.qZA()),2&e){const n=t.oxw(2);t.xp6(1),t.Q6J("hideUserButtons",!0)("disableDetail",!0)("products",null==n.order?null:n.order.products)}}function I(e,i){if(1&e&&(t.TgZ(0,"div",13),t.YNc(1,b,2,0,"p",4),t.YNc(2,D,2,0,"h2",4),t.YNc(3,U,2,3,"div",4),t.qZA()),2&e){const n=t.oxw();t.xp6(1),t.Q6J("ngIf",n.loading),t.xp6(1),t.Q6J("ngIf",!n.loading&&n.order),t.xp6(1),t.Q6J("ngIf",!n.loading&&n.order)}}function E(e,i){if(1&e&&(t.TgZ(0,"ion-select-option",19),t._uU(1),t.qZA()),2&e){const n=i.$implicit;t.Q6J("value",n[0]),t.xp6(1),t.Oqu(n[0])}}function J(e,i){1&e&&(t.TgZ(0,"div"),t.TgZ(1,"p"),t._uU(2,"Status wordt aangepast."),t.qZA(),t.qZA())}function B(e,i){if(1&e){const n=t.EpF();t.TgZ(0,"div",20),t.TgZ(1,"app-button",21),t.NdJ("click",function(){return t.CHM(n),t.oxw(2).saveStatus()}),t.qZA(),t.qZA()}2&e&&(t.xp6(1),t.Q6J("buttonText","Sla wijziging op")("invertColor",!0))}function S(e,i){if(1&e){const n=t.EpF();t.TgZ(0,"div",13),t.TgZ(1,"div",15),t.TgZ(2,"ion-label"),t._uU(3,"Status"),t.qZA(),t.TgZ(4,"ion-select",16),t.NdJ("ngModelChange",function(u){return t.CHM(n),t.oxw().order.status=u})("ionChange",function(u){return t.CHM(n),t.oxw().statusChanged(u)}),t.YNc(5,E,2,2,"ion-select-option",17),t.ALo(6,"enumToArray"),t.qZA(),t.YNc(7,J,3,0,"div",4),t.YNc(8,B,2,2,"div",18),t.qZA(),t.qZA()}if(2&e){const n=t.oxw();t.xp6(4),t.Q6J("ngModel",n.order.status)("compareWith",n.compareFn),t.xp6(1),t.Q6J("ngForOf",t.lcZ(6,5,n.orderStatus)),t.xp6(2),t.Q6J("ngIf",n.updatingLoading),t.xp6(1),t.Q6J("ngIf",n.changedStatus)}}const Q=[{path:"",component:(()=>{class e{constructor(n,o,u,f){this.activatedRoute=n,this.ordersProxyService=o,this.authenticationService=u,this.userProxyService=f,this.loading=!1,this.updatingLoading=!1,this.error=!1,this.edit=!1,this.role=s.u,this.changedStatus=!1,this.orderStatus=m.i}ngOnInit(){this.getOrderData(),this.currentRole=this.authenticationService.getRole()}getOrderData(){this.loading=!0,this.ordersProxyService.getOrderByIdAction(this.activatedRoute.snapshot.params.orderUuid).subscribe(n=>{this.order=null==n?void 0:n.results[0],this.userProxyService.getUserDataAction(this.order.userId.objectId).subscribe(o=>{var u;this.user=o,this.loading=!1,this.error=!(null===(u=this.order)||void 0===u?void 0:u.orderId)},o=>{this.error=!0})},n=>{this.error=!0})}editOrder(){this.edit=!0}hideEditOrder(){this.edit=!1}statusChanged(n){this.changedStatus=!0,this.order.status=n.target.value}compareFn(n,o){return n===o}saveStatus(){this.updatingLoading=!0,this.ordersProxyService.updateOrderAction(this.order.status,this.order.objectId).subscribe(n=>{this.updatingLoading=!1,this.changedStatus=!1},n=>{this.error=!0})}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(d.gz),t.Y36(c.mT),t.Y36(p.$),t.Y36(c.Jc))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-order-details"]],decls:16,vars:8,consts:[[3,"fullscreen"],[1,"ion-no-border"],[1,"summary-header"],["icon","","text","Terug",1,"go-back",3,"defaultHref"],[4,"ngIf"],[1,"summary-page-content"],[1,"summary-information"],[1,"summary-content"],["class","summary-list",4,"ngIf"],["class","header-edit-order",3,"textContent","click",4,"ngIf"],[1,"header-edit-order",3,"textContent","click"],["name","create-outline"],["name","close-outline"],[1,"summary-list"],[3,"hideUserButtons","disableDetail","products"],[1,"order-edit-box"],[3,"ngModel","compareWith","ngModelChange","ionChange"],[3,"value",4,"ngFor","ngForOf"],["class","save-status-button",4,"ngIf"],[3,"value"],[1,"save-status-button"],[3,"buttonText","invertColor","click"]],template:function(n,o){1&n&&(t.TgZ(0,"ion-content",0),t.TgZ(1,"ion-header",1),t.TgZ(2,"ion-toolbar"),t.TgZ(3,"div",2),t._UZ(4,"ion-back-button",3),t.TgZ(5,"h2"),t._uU(6,"Bestelling"),t.qZA(),t.YNc(7,T,3,2,"ion-buttons",4),t.qZA(),t.qZA(),t.qZA(),t.TgZ(8,"div",5),t.TgZ(9,"div",6),t.YNc(10,M,2,0,"p",4),t.YNc(11,y,2,0,"p",4),t.YNc(12,A,21,10,"div",4),t.qZA(),t.TgZ(13,"div",7),t.YNc(14,I,4,3,"div",8),t.YNc(15,S,9,7,"div",8),t.qZA(),t.qZA(),t.qZA()),2&n&&(t.Q6J("fullscreen",!0),t.xp6(4),t.s9C("defaultHref",o.currentRole===o.role.admin?"admin/orders":"overview/orders"),t.xp6(3),t.Q6J("ngIf",o.currentRole===o.role.admin),t.xp6(3),t.Q6J("ngIf",o.loading),t.xp6(1),t.Q6J("ngIf",o.error&&!o.order),t.xp6(1),t.Q6J("ngIf",!o.loading&&o.order),t.xp6(2),t.Q6J("ngIf",!o.edit),t.xp6(1),t.Q6J("ngIf",o.edit))},directives:[a.W2,a.Gu,a.sr,a.oU,a.cs,l.O5,a.Sm,a.YG,a.gu,P.X,a.Q$,a.t9,a.QI,g.JJ,g.On,l.sg,a.n0,h.r],pipes:[v.K,l.H9,x],styles:["ion-content[_ngcontent-%COMP%]   .summary-header[_ngcontent-%COMP%]   .go-back[_ngcontent-%COMP%]{position:absolute;--color: var(--color-app-primary);margin-left:10px;text-transform:lowercase;font-size:1rem;font-weight:normal;text-decoration:none}ion-content[_ngcontent-%COMP%]   .summary-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-weight:600;font-size:30px;text-align:center}ion-content[_ngcontent-%COMP%]   .summary-header[_ngcontent-%COMP%]   .header-edit-order[_ngcontent-%COMP%]{position:absolute;right:10px;top:-45px;--color: var(--color-app-primary);text-transform:lowercase;font-size:1rem;font-weight:normal;text-decoration:none}ion-content[_ngcontent-%COMP%]   .products-list[_ngcontent-%COMP%]{margin-top:60px}ion-content[_ngcontent-%COMP%]   .summary-page-content[_ngcontent-%COMP%]{max-width:var(--list-width);margin-left:auto;margin-right:auto}ion-content[_ngcontent-%COMP%]   .summary-page-content[_ngcontent-%COMP%]   .summary-information[_ngcontent-%COMP%]{display:flex;margin-left:15px;margin-right:15px}ion-content[_ngcontent-%COMP%]   .summary-page-content[_ngcontent-%COMP%]   .summary-content[_ngcontent-%COMP%]   .summary-list[_ngcontent-%COMP%]{margin-left:15px;margin-right:15px}ion-content[_ngcontent-%COMP%]   .summary-page-content[_ngcontent-%COMP%]   .summary-content[_ngcontent-%COMP%]   .summary-list[_ngcontent-%COMP%]   .order-edit-box[_ngcontent-%COMP%]{margin-top:15px;width:100%}ion-content[_ngcontent-%COMP%]   .summary-page-content[_ngcontent-%COMP%]   .summary-content[_ngcontent-%COMP%]   .summary-list[_ngcontent-%COMP%]   .order-edit-box[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{font-weight:bold}ion-content[_ngcontent-%COMP%]   .summary-page-content[_ngcontent-%COMP%]   .summary-content[_ngcontent-%COMP%]   .summary-list[_ngcontent-%COMP%]   .order-edit-box[_ngcontent-%COMP%]   .save-status-button[_ngcontent-%COMP%]{text-align:center}ion-content[_ngcontent-%COMP%]   .summary-page-content[_ngcontent-%COMP%]   .summary-content[_ngcontent-%COMP%]   .summary-list[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:20px}"]}),e})()}];let F=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[d.Bz.forChild(Q)],d.Bz]}),e})();var Y=r(7437),q=r(182),N=r(7952);let R=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[l.ez,g.u5,a.Pc,F,Y.f,q.J,N.h]]}),e})()}}]);