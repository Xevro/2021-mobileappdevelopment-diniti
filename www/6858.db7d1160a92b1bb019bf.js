"use strict";(self.webpackChunkdiniti=self.webpackChunkdiniti||[]).push([[6858],{6858:(x,u,o)=>{o.r(u),o.d(u,{OrderSummaryPageModule:()=>v});var c=o(6274),m=o(4988),i=o(4683),d=o(4029),l=o(3278),h=o(7906),t=o(7272),O=o(7046),p=o(3826),P=o(9287),y=o(1204);function M(e,a){if(1&e&&(t.TgZ(0,"p",13),t._uU(1),t.qZA()),2&e){const n=t.oxw();t.xp6(1),t.Oqu(n.timeError)}}const C=[{path:"",component:(()=>{class e{constructor(n,r,s,g,T){this.router=n,this.authenticationService=r,this.productsSummaryService=s,this.ordersProxyService=g,this.uuidGenerator=T,this.createOrder=!1,this.order={totalPrice:0}}ngOnInit(){}ionViewWillEnter(){const n=this.productsSummaryService.getProductsData();void 0!==n?(this.order.products=n,this.order.products.filter(r=>{this.order.totalPrice+=r.price*r.amount;const s=this.order.totalPrice.toFixed(2);this.order.totalPrice=Number(s)})):this.router.navigate(l.Z.userOrderCreate)}goToOrderComplete(){if(this.timeError="",this.order.pickUpTime){this.order.status=h.i.pending,this.order.userId={__type:"Pointer",className:"_User",objectId:this.authenticationService.getObjectId()};const n=new Date(Date.now());this.order.pickUpTime={__type:"Date",iso:`${n.toDateString()}  ${n.toTimeString()}`},this.order.orderId=Date.now(),this.order.orderUuid=this.uuidGenerator.generateUUID(),this.ordersProxyService.postOrderAction(this.order).subscribe(r=>{this.router.navigate(l.Z.orderComplete)},r=>{})}else this.timeError="Kies een tijdstip"}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(d.F0),t.Y36(O.$),t.Y36(p.Gz),t.Y36(p.mT),t.Y36(P.AL))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-order-summary"]],decls:32,vars:10,consts:[[3,"fullscreen"],[1,"ion-no-border"],[1,"summary-header"],["defaultHref","overview/order/create","icon","","text","Terug",1,"go-back"],[1,"header-register-order",3,"textContent","click"],[1,"summary-page-content"],[1,"summary-information"],[1,"summary-content"],[1,"time-picker"],["class","time-error",4,"ngIf"],["display-format","HH:mm","max","19:00","min","10:00","placeholder","Kies \xe9\xe9n tijdstip",3,"ngModel","ngModelChange"],[1,"summary-list"],[3,"hideUserButtons","products"],[1,"time-error"]],template:function(n,r){1&n&&(t.TgZ(0,"ion-content",0),t.TgZ(1,"ion-header",1),t.TgZ(2,"ion-toolbar"),t.TgZ(3,"div",2),t._UZ(4,"ion-back-button",3),t.TgZ(5,"h2"),t._uU(6,"Winkelmand"),t.qZA(),t.TgZ(7,"ion-buttons"),t.TgZ(8,"ion-button",4),t.NdJ("click",function(){return r.goToOrderComplete()}),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(9,"div",5),t.TgZ(10,"div",6),t.TgZ(11,"div"),t.TgZ(12,"p"),t._uU(13,"Totaal prijs: "),t.TgZ(14,"a"),t._uU(15),t.ALo(16,"currency"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(17,"div",7),t.TgZ(18,"ion-list",8),t.TgZ(19,"ion-list-header"),t.TgZ(20,"ion-label"),t._uU(21," Kies een afhaal tijdstip "),t.qZA(),t.qZA(),t.YNc(22,M,2,1,"p",9),t.TgZ(23,"ion-item"),t.TgZ(24,"ion-label"),t._uU(25,"Tijdstip"),t.qZA(),t.TgZ(26,"ion-datetime",10),t.NdJ("ngModelChange",function(g){return r.order.pickUpTime=g}),t.qZA(),t.qZA(),t.qZA(),t.TgZ(27,"div",11),t.TgZ(28,"h2"),t._uU(29,"Mijn bestelling"),t.qZA(),t.TgZ(30,"div"),t._UZ(31,"app-product-list",12),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&n&&(t.Q6J("fullscreen",!0),t.xp6(8),t.Q6J("textContent","Bestel"),t.xp6(7),t.Oqu(0!==(null==r.order?null:r.order.totalPrice)?t.xi3(16,7,null==r.order?null:r.order.totalPrice,"EUR"):" --"),t.xp6(7),t.Q6J("ngIf",r.timeError),t.xp6(4),t.Q6J("ngModel",r.order.pickUpTime),t.xp6(5),t.Q6J("hideUserButtons",!0)("products",null==r.order?null:r.order.products))},directives:[i.W2,i.Gu,i.sr,i.oU,i.cs,i.Sm,i.YG,i.q_,i.yh,i.Q$,c.O5,i.Ie,i.x4,i.QI,m.JJ,m.On,y.X],pipes:[c.H9],styles:["ion-content[_ngcontent-%COMP%]   .summary-header[_ngcontent-%COMP%]   .go-back[_ngcontent-%COMP%]{position:absolute;--color: var(--color-app-primary);margin-left:10px;text-transform:lowercase;font-size:1rem;font-weight:normal;text-decoration:none}ion-content[_ngcontent-%COMP%]   .summary-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-weight:600;font-size:30px;text-align:center}ion-content[_ngcontent-%COMP%]   .summary-header[_ngcontent-%COMP%]   .header-register-order[_ngcontent-%COMP%]{position:absolute;right:10px;top:-45px;--color: var(--color-app-primary);text-transform:lowercase;font-size:1rem;font-weight:normal;text-decoration:none}ion-content[_ngcontent-%COMP%]   .products-list[_ngcontent-%COMP%]{margin-top:60px}ion-content[_ngcontent-%COMP%]   .summary-page-content[_ngcontent-%COMP%]{max-width:var(--list-width);margin-left:auto;margin-right:auto}ion-content[_ngcontent-%COMP%]   .summary-page-content[_ngcontent-%COMP%]   .summary-information[_ngcontent-%COMP%]{display:flex;margin-left:15px;margin-right:15px}ion-content[_ngcontent-%COMP%]   .summary-page-content[_ngcontent-%COMP%]   .summary-content[_ngcontent-%COMP%]   .time-picker[_ngcontent-%COMP%]   .time-error[_ngcontent-%COMP%]{margin-left:15px;color:var(--color-app-primary)}ion-content[_ngcontent-%COMP%]   .summary-page-content[_ngcontent-%COMP%]   .summary-content[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]   ion-list-header[_ngcontent-%COMP%]{padding-left:15px;margin-bottom:15px}ion-content[_ngcontent-%COMP%]   .summary-page-content[_ngcontent-%COMP%]   .summary-content[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]   ion-list-header[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{--color: var(--ion-color-step-850, #262626);font-size:22px;font-weight:700;letter-spacing:0}ion-content[_ngcontent-%COMP%]   .summary-page-content[_ngcontent-%COMP%]   .summary-content[_ngcontent-%COMP%]   .summary-list[_ngcontent-%COMP%]{margin-left:15px;margin-right:15px}ion-content[_ngcontent-%COMP%]   .summary-page-content[_ngcontent-%COMP%]   .summary-content[_ngcontent-%COMP%]   .summary-list[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:20px}"]}),e})()}];let f=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[d.Bz.forChild(C)],d.Bz]}),e})();var Z=o(7437);let v=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[c.ez,m.u5,i.Pc,f,Z.f]]}),e})()}}]);