"use strict";(self.webpackChunkdiniti=self.webpackChunkdiniti||[]).push([[5686],{1204:(T,x,u)=>{u.d(x,{X:()=>U});var t=u(7272),g=u(6274),d=u(4683),_=u(1855),P=u(3278),b=u(4293),l=u(4029),f=u(3826),v=u(7046);const c=function(n){return{"product-count-left":n}};function h(n,p){if(1&n&&(t.TgZ(0,"div",11),t.TgZ(1,"div",12),t.TgZ(2,"p"),t._uU(3),t.qZA(),t.qZA(),t.qZA()),2&n){const o=t.oxw();let i;t.Q6J("ngClass",t.VKq(2,c,o.hideUserButtons)),t.xp6(3),t.Oqu(null!==(i=null==o.product?null:o.product.amount)&&void 0!==i?i:0)}}function e(n,p){if(1&n){const o=t.EpF();t.TgZ(0,"div",13),t.TgZ(1,"ion-fab-button",14),t.NdJ("click",function(){return t.CHM(o),t.oxw().countDownProductAmount()}),t._uU(2,"-"),t.qZA(),t.TgZ(3,"ion-fab-button",15),t.NdJ("click",function(){return t.CHM(o),t.oxw().countUpProductAmount()}),t._uU(4,"+"),t.qZA(),t.qZA()}}function r(n,p){1&n&&t._UZ(0,"ion-spinner",22)}function s(n,p){1&n&&t._UZ(0,"ion-icon",23)}function m(n,p){if(1&n){const o=t.EpF();t.TgZ(0,"ion-fab-button",19),t.NdJ("click",function(){return t.CHM(o),t.oxw(2).toggleVisibility(!1)}),t.YNc(1,r,1,0,"ion-spinner",20),t.YNc(2,s,1,0,"ion-icon",21),t.qZA()}if(2&n){const o=t.oxw(2);t.xp6(1),t.Q6J("ngIf",o.loading),t.xp6(1),t.Q6J("ngIf",!o.loading)}}function C(n,p){1&n&&t._UZ(0,"ion-spinner",22)}function y(n,p){1&n&&t._UZ(0,"ion-icon",25)}function A(n,p){if(1&n){const o=t.EpF();t.TgZ(0,"ion-fab-button",19),t.NdJ("click",function(){return t.CHM(o),t.oxw(2).toggleVisibility(!0)}),t.YNc(1,C,1,0,"ion-spinner",20),t.YNc(2,y,1,0,"ion-icon",24),t.qZA()}if(2&n){const o=t.oxw(2);t.xp6(1),t.Q6J("ngIf",o.loading),t.xp6(1),t.Q6J("ngIf",!o.loading)}}function M(n,p){if(1&n){const o=t.EpF();t.TgZ(0,"div",16),t.YNc(1,m,3,2,"ion-fab-button",17),t.YNc(2,A,3,2,"ion-fab-button",17),t.TgZ(3,"ion-fab-button",14),t.NdJ("click",function(){return t.CHM(o),t.oxw().deleteProduct()}),t._UZ(4,"ion-icon",18),t.qZA(),t.qZA()}if(2&n){const o=t.oxw();t.xp6(1),t.Q6J("ngIf",null==o.product?null:o.product.visibility),t.xp6(1),t.Q6J("ngIf",!(null!=o.product&&o.product.visibility))}}let Z=(()=>{class n{constructor(o,i,a,O){this.router=o,this.alertController=i,this.productsProxyService=a,this.authenticationService=O,this.hideUserButtons=!1,this.showAdminButtons=!1,this.disableDetail=!1,this.hideCount=!1,this.changedProduct=new t.vpe,this.removedProduct=new t.vpe,this.loading=!1}ngOnInit(){this.currentRole=this.authenticationService.getRole()}countUpProductAmount(){this.product.amount?this.product.amount++:this.product.amount=1,this.changedProduct.emit(this.product)}countDownProductAmount(){this.product.amount>=1&&(this.product.amount-=1,this.changedProduct.emit(this.product))}deleteProduct(){return(0,_.mG)(this,void 0,void 0,function*(){yield(yield this.alertController.create({cssClass:"basic-alert",header:"Opgelet",message:'Bent u zeker dat u "'+this.product.name+'" wilt verwijderen?',buttons:[{text:"Verwijder",cssClass:"btns-modal-alert",handler:()=>{this.productsProxyService.deleteProductsAction(this.product.objectId).subscribe(i=>{this.removedProduct.emit(!0)},i=>{})}},{text:"Annuleer",role:"Annuleer",cssClass:"modal-button-cancel"}]})).present()})}toggleVisibility(o){this.loading=!0,this.product.visibility=o,this.productsProxyService.updateProductVisibilityAction(this.product.visibility,this.product.objectId).subscribe(i=>{this.loading=!1},i=>{this.loading=!1})}goToDetailPage(){this.currentRole!==b.u.admin||this.disableDetail?this.currentRole===b.u.user&&!this.disableDetail&&this.router.navigate(P.Z.userProductDetail(this.product.productId.toString())):this.router.navigate(P.Z.adminProductDetail(this.product.productId.toString()))}}return n.\u0275fac=function(o){return new(o||n)(t.Y36(l.F0),t.Y36(d.Br),t.Y36(f.Hw),t.Y36(v.$))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-product-item"]],inputs:{hideUserButtons:"hideUserButtons",showAdminButtons:"showAdminButtons",disableDetail:"disableDetail",hideCount:"hideCount",product:"product"},outputs:{changedProduct:"changedProduct",removedProduct:"removedProduct"},decls:17,vars:10,consts:[[1,"product-item"],[1,"products-item-box"],[1,"product-image-box",3,"click"],["slot","start"],[3,"src","alt"],[1,"product-item-box",3,"click"],[1,"product-name"],[1,"product-bottom-row"],["class","product-count-box",3,"ngClass",4,"ngIf"],["class","product-buttons-box",4,"ngIf"],["class","product-admin-buttons-box",4,"ngIf"],[1,"product-count-box",3,"ngClass"],[1,"product-count"],[1,"product-buttons-box"],["size","small",1,"button-min",3,"click"],["size","small",1,"button-plus",3,"click"],[1,"product-admin-buttons-box"],["size","small",3,"click",4,"ngIf"],["name","trash-outline"],["size","small",3,"click"],["name","crescent",4,"ngIf"],["name","eye-outline",4,"ngIf"],["name","crescent"],["name","eye-outline"],["name","eye-off-outline",4,"ngIf"],["name","eye-off-outline"]],template:function(o,i){if(1&o&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.NdJ("click",function(){return i.goToDetailPage()}),t.TgZ(3,"ion-thumbnail",3),t._UZ(4,"ion-img",4),t.qZA(),t.qZA(),t.TgZ(5,"div",5),t.NdJ("click",function(){return i.goToDetailPage()}),t.TgZ(6,"div",6),t.TgZ(7,"p"),t._uU(8),t.qZA(),t.qZA(),t.TgZ(9,"div",7),t.TgZ(10,"div"),t.TgZ(11,"p"),t._uU(12),t.ALo(13,"currency"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(14,h,4,4,"div",8),t.YNc(15,e,5,0,"div",9),t.YNc(16,M,5,2,"div",10),t.qZA(),t.qZA()),2&o){let a;t.xp6(4),t.s9C("alt",i.product.name),t.Q6J("src",null==i.product||null==i.product.image?null:i.product.image.url),t.xp6(4),t.Oqu(null!==(a=(null==i.product||null==i.product.name?null:i.product.name.length)>30?(null==i.product?null:i.product.name.substring(0,27))+"...":null==i.product?null:i.product.name)&&void 0!==a?a:"--"),t.xp6(4),t.Oqu(t.xi3(13,7,null==i.product?null:i.product.price,"EUR")),t.xp6(2),t.Q6J("ngIf",!i.hideCount),t.xp6(1),t.Q6J("ngIf",!i.hideUserButtons),t.xp6(1),t.Q6J("ngIf",i.showAdminButtons)}},directives:[d.Bs,d.Xz,g.O5,g.mk,d.W4,d.gu,d.PQ],pipes:[g.H9],styles:[".product-item[_ngcontent-%COMP%]{font-weight:bold;margin-bottom:15px;border-bottom:1px solid var(--color-app-shade-white-2)}.product-item[_ngcontent-%COMP%]   .products-item-box[_ngcontent-%COMP%]{display:flex}.product-item[_ngcontent-%COMP%]   .products-item-box[_ngcontent-%COMP%]   .product-image-box[_ngcontent-%COMP%]{margin-top:auto;margin-bottom:auto}.product-item[_ngcontent-%COMP%]   .products-item-box[_ngcontent-%COMP%]   .product-item-box[_ngcontent-%COMP%]{margin-left:10px;min-width:83px}.product-item[_ngcontent-%COMP%]   .products-item-box[_ngcontent-%COMP%]   .product-item-box[_ngcontent-%COMP%]   .product-name[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 5px}.product-item[_ngcontent-%COMP%]   .products-item-box[_ngcontent-%COMP%]   .product-item-box[_ngcontent-%COMP%]   .product-bottom-row[_ngcontent-%COMP%]{display:flex}.product-item[_ngcontent-%COMP%]   .products-item-box[_ngcontent-%COMP%]   .product-item-box[_ngcontent-%COMP%]   .product-bottom-row[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.85rem;margin:0}.product-item[_ngcontent-%COMP%]   .products-item-box[_ngcontent-%COMP%]   .product-count-box[_ngcontent-%COMP%]{margin-left:auto;margin-top:auto;margin-bottom:auto}.product-item[_ngcontent-%COMP%]   .products-item-box[_ngcontent-%COMP%]   .product-count-box[_ngcontent-%COMP%]   .product-count[_ngcontent-%COMP%]{background-color:var(--color-app-shade-white-1);border-radius:50%;width:30px;height:30px;margin-top:-18px;margin-left:15px}.product-item[_ngcontent-%COMP%]   .products-item-box[_ngcontent-%COMP%]   .product-count-box[_ngcontent-%COMP%]   .product-count[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{width:auto;font-weight:normal;font-size:.9rem;text-align:center;vertical-align:middle;line-height:14px;padding-top:8px;padding-bottom:8px;color:var(--color-app-primary)}.product-item[_ngcontent-%COMP%]   .products-item-box[_ngcontent-%COMP%]   .product-buttons-box[_ngcontent-%COMP%]{margin-left:20px;display:flex}.product-item[_ngcontent-%COMP%]   .products-item-box[_ngcontent-%COMP%]   .product-buttons-box[_ngcontent-%COMP%]   .button-min[_ngcontent-%COMP%]{--background: var(--color-app-shade-white-1);--color: var(--color-app-primary)}.product-item[_ngcontent-%COMP%]   .products-item-box[_ngcontent-%COMP%]   .product-buttons-box[_ngcontent-%COMP%]   .button-plus[_ngcontent-%COMP%]{--background: var(--color-app-primary);--color: var(--color-app-secondary)}.product-item[_ngcontent-%COMP%]   .products-item-box[_ngcontent-%COMP%]   .product-admin-buttons-box[_ngcontent-%COMP%]{margin-left:auto;display:flex}.product-item[_ngcontent-%COMP%]:hover{background-color:var(--color-app-shade-white-3)}.product-count-left[_ngcontent-%COMP%]{margin-right:15px!important;margin-left:auto!important}"]}),n})(),I=(()=>{class n{transform(o,i){return i?o.filter(a=>a.name.toLowerCase().includes(i.toLowerCase())):o}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275pipe=t.Yjl({name:"datafilter",type:n,pure:!0}),n})();function S(n,p){if(1&n){const o=t.EpF();t.TgZ(0,"app-product-item",6,7),t.NdJ("changedProduct",function(){t.CHM(o);const a=t.MAs(1);return t.oxw(2).changedProducts(a)})("removedProduct",function(a){return t.CHM(o),t.oxw(2).removedProductEmit(a)}),t.qZA()}if(2&n){const o=p.$implicit,i=t.oxw(2);t.Q6J("hideCount",i.hideCount)("hideUserButtons",i.hideUserButtons)("product",o)("disableDetail",i.disableDetail)("showAdminButtons",i.showAdminButtons)}}function w(n,p){if(1&n&&(t.TgZ(0,"ion-infinite-scroll",4),t.YNc(1,S,2,5,"app-product-item",5),t.ALo(2,"datafilter"),t.qZA()),2&n){const o=t.oxw();t.xp6(1),t.Q6J("ngForOf",t.xi3(2,1,o.products,o.filterTerm))}}function k(n,p){if(1&n&&(t.TgZ(0,"div",8),t.TgZ(1,"p"),t._uU(2),t.qZA(),t.qZA()),2&n){const o=t.oxw();t.xp6(2),t.hij("Geen zoekresultaten voor ",o.filterTerm,"")}}let U=(()=>{class n{constructor(){this.hideUserButtons=!1,this.showAdminButtons=!1,this.disableDetail=!1,this.hideCount=!1,this.changedProductsList=new t.vpe,this.removedProduct=new t.vpe}ngOnInit(){}changedProducts(o){this.changedProductsList.emit(o)}removedProductEmit(o){this.removedProduct.emit(o)}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-product-list"]],inputs:{hideUserButtons:"hideUserButtons",showAdminButtons:"showAdminButtons",disableDetail:"disableDetail",hideCount:"hideCount",products:"products",filterTerm:"filterTerm"},outputs:{changedProductsList:"changedProductsList",removedProduct:"removedProduct"},decls:5,vars:5,consts:[[1,"products-list-box"],[1,"products-list"],["threshold","100px",4,"ngIf"],["class","no-products",4,"ngIf"],["threshold","100px"],[3,"hideCount","hideUserButtons","product","disableDetail","showAdminButtons","changedProduct","removedProduct",4,"ngFor","ngForOf"],[3,"hideCount","hideUserButtons","product","disableDetail","showAdminButtons","changedProduct","removedProduct"],["productsList",""],[1,"no-products"]],template:function(o,i){if(1&o&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.YNc(2,w,3,4,"ion-infinite-scroll",2),t.YNc(3,k,3,1,"div",3),t.ALo(4,"datafilter"),t.qZA(),t.qZA()),2&o){let a;t.xp6(2),t.Q6J("ngIf",i.products),t.xp6(1),t.Q6J("ngIf",0===(null==(a=t.xi3(4,2,i.products,i.filterTerm))?null:a.length))}},directives:[g.O5,d.ju,g.sg,Z],pipes:[I],styles:[".products-list-box[_ngcontent-%COMP%]{margin:auto}.products-list-box[_ngcontent-%COMP%]   .products-list[_ngcontent-%COMP%]{width:auto;margin:auto;max-width:var(--list-width);padding-left:10px;padding-right:10px}.products-list-box[_ngcontent-%COMP%]   .no-products[_ngcontent-%COMP%]{text-align:center;margin:auto}"]}),n})()},7437:(T,x,u)=>{u.d(x,{f:()=>b});var t=u(6274),g=u(4988),d=u(4683),_=u(7272);let P=(()=>{class l{}return l.\u0275fac=function(v){return new(v||l)},l.\u0275mod=_.oAB({type:l}),l.\u0275inj=_.cJS({imports:[[t.ez,g.u5,d.Pc]]}),l})(),b=(()=>{class l{}return l.\u0275fac=function(v){return new(v||l)},l.\u0275mod=_.oAB({type:l}),l.\u0275inj=_.cJS({imports:[[t.ez,g.u5,d.Pc,P]]}),l})()},3826:(T,x,u)=>{u.d(x,{mT:()=>b,Hw:()=>l,Gz:()=>v,Jc:()=>f});var t=u(9287),g=u(4766),d=u(7272),_=u(1887),P=u(7046);let b=(()=>{class c extends t.Zx{constructor(e,r){super(e),this.authenticationService=r,this.api=g.N.api}getAllOrdersAction(){const e={"X-Parse-Session-Token":this.authenticationService.getSessionToken(),"X-skip-request":"true"};return this.getRequest("classes/Orders",e)}getOrdersAction(e){const r={"X-Parse-Session-Token":this.authenticationService.getSessionToken()};return this.getRequest(`classes/Orders?where={"userId":{"__type":"Pointer","className":"_User","objectId":"${e}"}}`,r)}getOrderByIdAction(e){const r={"X-Parse-Session-Token":this.authenticationService.getSessionToken()};return this.getRequest(`classes/Orders?where={"orderUuid":"${e}"}`,r)}postOrderAction(e){return this.postRequest("classes/Orders",e)}updateOrderAction(e,r){return this.putRequest(`classes/Orders/${r}`,{status:e},{"Content-Type":"application/json"})}}return c.\u0275fac=function(e){return new(e||c)(d.LFG(_.eN),d.LFG(P.$))},c.\u0275prov=d.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c})(),l=(()=>{class c extends t.Zx{constructor(e,r){super(e),this.authenticationService=r,this.api=g.N.api}getAllProductsAction(){const e={"X-Parse-Session-Token":this.authenticationService.getSessionToken(),"X-skip-request":"true"};return this.getRequest("classes/Products",e)}getProductsWithVisibilityAction(e){const r={"X-Parse-Session-Token":this.authenticationService.getSessionToken()};return this.getRequest(`classes/Products?where={"visibility":${e}}`,r)}getProductByIdAction(e){const r={"X-Parse-Session-Token":this.authenticationService.getSessionToken(),"X-skip-request":"true"};return this.getRequest(`classes/Products?where={"productId":"${e}"}`,r)}updateProductVisibilityAction(e,r){return this.putRequest(`classes/Products/${r}`,{visibility:e},{"Content-Type":"application/json"})}updateProductAction(e,r){return this.putRequest(`classes/Products/${r}`,e,{"Content-Type":"application/json"})}deleteProductsAction(e){return this.deleteRequest(`classes/Products/${e}`)}postImageAction(e){return this.postRequest("files/product-image.png",e,{"Content-Type":"image/png"})}updateProductImageAction(e,r){const s="classes/Products/"+r,m={"Content-Type":"application/json","X-Parse-Session-Token":this.authenticationService.getSessionToken()};return this.putRequest(s,e,m)}postProductAction(e){return this.postRequest("classes/Products",e)}}return c.\u0275fac=function(e){return new(e||c)(d.LFG(_.eN),d.LFG(P.$))},c.\u0275prov=d.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c})(),f=(()=>{class c extends t.Zx{constructor(e,r){super(e),this.authenticationService=r,this.api=g.N.api}getUserDataAction(e){return this.getRequest(`users/${e}`,{"X-skip-request":"true"})}postImageAction(e){return this.postRequest("files/userProfilePicture.png",e,{"Content-Type":"image/png"})}updateUserImageAction(e,r){const s="users/"+r,m={"Content-Type":"application/json","X-Parse-Session-Token":this.authenticationService.getSessionToken()};return this.putRequest(s,e,m)}updateUserdataAction(e,r){const s=`users/${r}`,m={"X-Parse-Session-Token":this.authenticationService.getSessionToken()};return this.putRequest(s,e,m)}}return c.\u0275fac=function(e){return new(e||c)(d.LFG(_.eN),d.LFG(P.$))},c.\u0275prov=d.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c})(),v=(()=>{class c extends t.Fn{constructor(){super(),this.storageName="products"}setProductsData(e){this.saveToStorage(e)}getProductsData(){return this.getStoredData()}removeProductsData(){return this.removeStoredData()}}return c.\u0275fac=function(e){return new(e||c)},c.\u0275prov=d.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c})()}}]);