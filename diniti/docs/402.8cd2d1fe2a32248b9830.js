"use strict";(self.webpackChunkdiniti=self.webpackChunkdiniti||[]).push([[402],{402:(M,u,i)=>{i.r(u),i.d(u,{CreateOrderPageModule:()=>_});var l=i(6274),c=i(4988),d=i(4683),a=i(4029),g=i(3278),e=i(7272),p=i(3826),f=i(1204);function h(r,s){if(1&r&&(e.TgZ(0,"div",10),e.TgZ(1,"p"),e._uU(2),e.qZA(),e.qZA()),2&r){const t=e.oxw();e.xp6(2),e.Oqu(t.message)}}function P(r,s){if(1&r){const t=e.EpF();e.TgZ(0,"app-product-list",11,12),e.NdJ("changedProductsList",function(){e.CHM(t);const o=e.MAs(1);return e.oxw().updatedProductsList(o)}),e.qZA()}if(2&r){const t=e.oxw();e.Q6J("filterTerm",t.filterTerm)("products",t.products)}}function v(r,s){1&r&&(e.TgZ(0,"div",10),e.TgZ(1,"p"),e._uU(2,"Producten laden..."),e.qZA(),e.qZA())}function C(r,s){1&r&&(e.TgZ(0,"div",10),e.TgZ(1,"p"),e._uU(2,"Geen producten gevonden"),e.qZA(),e.qZA())}const O=[{path:"",component:(()=>{class r{constructor(t,n,o){this.router=t,this.productsProxyService=n,this.productsSummaryService=o,this.loading=!1}ngOnInit(){this.loading=!0,this.message=null,this.productsProxyService.getProductsWithVisibilityAction(!0).subscribe(t=>{this.products=null==t?void 0:t.results,this.loading=!1,this.loadStoredProducts()},t=>{})}ionViewWillEnter(){var t;if(this.message=null,0===(null===(t=this.selectedProducts)||void 0===t?void 0:t.length))for(const[n]of Object.entries(this.products))this.products[n].amount=0}loadStoredProducts(){const t=this.productsSummaryService.getProductsData();if(void 0!==t&&t){for(const[n,o]of Object.entries(t))this.products[n]=o;this.selectedProducts=t}}updatedProductsList(t){this.selectedProducts=t.products}getOrderSummaryUrl(){var t;const n=null===(t=this.selectedProducts)||void 0===t?void 0:t.filter(o=>0!==(null==o?void 0:o.amount)&&o.amount);n&&0!==n.length?(this.message=null,this.productsSummaryService.setProductsData(n),this.router.navigate(g.Z.userOrderCreateSummary)):this.message="Kies een product om verder te kunnen gaan"}goToOverview(){this.productsSummaryService.removeProductsData(),this.selectedProducts=[],this.router.navigate(g.Z.userOverview)}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(a.F0),e.Y36(p.Hw),e.Y36(p.Gz))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-create-order"]],decls:17,vars:8,consts:[[3,"fullscreen"],[1,"ion-no-border"],[1,"order-header"],[1,"cancel",3,"textContent","click"],[1,"header-order-summary",3,"textContent","click"],[1,"products-list"],["class","products-loading",4,"ngIf"],[1,"search-field"],["animated","true","placeholder","Zoek producten",3,"ngModel","ngModelChange"],[3,"filterTerm","products","changedProductsList",4,"ngIf"],[1,"products-loading"],[3,"filterTerm","products","changedProductsList"],["productsList",""]],template:function(t,n){1&t&&(e.TgZ(0,"ion-content",0),e.TgZ(1,"ion-header",1),e.TgZ(2,"ion-toolbar"),e.TgZ(3,"div",2),e.TgZ(4,"ion-buttons"),e.TgZ(5,"ion-button",3),e.NdJ("click",function(){return n.goToOverview()}),e.qZA(),e.qZA(),e.TgZ(6,"h2"),e._uU(7,"Bestel"),e.qZA(),e.TgZ(8,"ion-buttons"),e.TgZ(9,"ion-button",4),e.NdJ("click",function(){return n.getOrderSummaryUrl()}),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(10,"div",5),e.YNc(11,h,3,1,"div",6),e.TgZ(12,"div",7),e.TgZ(13,"ion-searchbar",8),e.NdJ("ngModelChange",function(m){return n.filterTerm=m}),e.qZA(),e.qZA(),e.YNc(14,P,2,2,"app-product-list",9),e.YNc(15,v,3,0,"div",6),e.YNc(16,C,3,0,"div",6),e.qZA(),e.qZA()),2&t&&(e.Q6J("fullscreen",!0),e.xp6(5),e.Q6J("textContent","Annuleer"),e.xp6(4),e.Q6J("textContent","Winkelmand"),e.xp6(2),e.Q6J("ngIf",n.message),e.xp6(2),e.Q6J("ngModel",n.filterTerm),e.xp6(1),e.Q6J("ngIf",!n.loading),e.xp6(1),e.Q6J("ngIf",n.loading),e.xp6(1),e.Q6J("ngIf",0===(null==n.products?null:n.products.length)&&!n.loading))},directives:[d.W2,d.Gu,d.sr,d.Sm,d.YG,l.O5,d.VI,d.j9,c.JJ,c.On,f.X],styles:["ion-content[_ngcontent-%COMP%]   .order-header[_ngcontent-%COMP%]   .cancel[_ngcontent-%COMP%]{position:absolute;left:15px;top:0;--color: var(--color-app-primary);text-transform:lowercase;font-size:1rem;font-weight:normal;text-decoration:none}ion-content[_ngcontent-%COMP%]   .order-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-weight:600;font-size:30px;text-align:center}ion-content[_ngcontent-%COMP%]   .order-header[_ngcontent-%COMP%]   .header-order-summary[_ngcontent-%COMP%]{position:absolute;right:10px;top:-45px;--color: var(--color-app-primary);text-transform:lowercase;font-size:1rem;font-weight:normal;text-decoration:none}ion-content[_ngcontent-%COMP%]   .products-list[_ngcontent-%COMP%]{margin-top:60px}ion-content[_ngcontent-%COMP%]   .products-list[_ngcontent-%COMP%]   .search-field[_ngcontent-%COMP%]{max-width:430px;margin:auto auto 15px}ion-content[_ngcontent-%COMP%]   .products-list[_ngcontent-%COMP%]   .products-loading[_ngcontent-%COMP%]{text-align:center;margin:auto}"]}),r})()}];let Z=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[[a.Bz.forChild(O)],a.Bz]}),r})();var T=i(7437);let _=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[[l.ez,c.u5,d.Pc,Z,T.f]]}),r})()}}]);