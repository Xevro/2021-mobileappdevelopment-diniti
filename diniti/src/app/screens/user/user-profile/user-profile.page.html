<ion-content>
  <div class="profile-page-box">
    <ion-header class="ion-no-border">
      <ion-toolbar>
        <div class="profile-header">
          <ion-buttons *ngIf="cancelButton">
            <ion-button [textContent]="'Annuleer'" (click)="cancelEditUser()" class="cancel-button">
            </ion-button>
          </ion-buttons>
          <ion-back-button *ngIf="!cancelButton" class="back-button" icon="" text="Terug"
                           defaultHref="overview/orders"></ion-back-button>
          <h2>Profiel</h2>
          <ion-buttons *ngIf="editButton">
            <ion-button [textContent]="'Bewerk'" (click)="handleEditUserData()" class="header-edit-profile">
            </ion-button>
          </ion-buttons>
          <ion-buttons *ngIf="!editButton">
            <ion-button [textContent]="'Bewaar'" (click)="validateInput()" class="header-edit-profile">
            </ion-button>
          </ion-buttons>
        </div>
      </ion-toolbar>
    </ion-header>
    <div class="profile-page" *ngIf="userData">
      <div class="profile-image-box">
        <img *ngIf="toggleEditView" src="./assets/icon/edit-circle.svg" alt="Edit profile image" class="edit-icon">
        <img src="./assets/images/profile-image.png" alt="profile image" class="profile-image">
      </div>
      <h4>{{ userData.firstname + ' ' + userData.lastname }}</h4>

      <div *ngIf="!toggleEditView && userData" class="profile-data">
        <div class="username-box">
          <img src="./assets/icon/user-icon.svg" alt="Username">
          <p>{{ userData.username }}</p>
        </div>
        <div class="email-box">
          <img src="./assets/icon/email-icon.svg" alt="Email">
          <p>{{ userData.userEmail }}</p>
        </div>
      </div>

      <div *ngIf="!toggleEditView && !userData" class="profile-data">
        <div class="username-box">
          <p>Gebruikersgegevens worden geladen</p>
        </div>
      </div>

      <div *ngIf="toggleEditView" class="edit-user-fields">
        <app-input-field (onInputChange)="firstNameValueChanged($event)" [fieldType]="fieldTypes.text"
                         [value]="userData.firstname" [placeholder]="'Voornaam'" [name]="'voornaam'"></app-input-field>
        <div *ngIf="firstNameErrorMessage" class="error-message">
          <p>{{firstNameErrorMessage}}</p>
        </div>
        <app-input-field (onInputChange)="lastNameValueChanged($event)" [fieldType]="fieldTypes.text"
                         [value]="userData.lastname" [placeholder]="'Achternaam'"
                         [name]="'achternaam'"></app-input-field>
        <div *ngIf="lastNameErrorMessage" class="error-message">
          <p>{{lastNameErrorMessage}}</p>
        </div>
        <app-input-field (onInputChange)="userNameValueChanged($event)" [fieldType]="fieldTypes.text"
                         [value]="userData.username" [placeholder]="'Gebruikersnaam'"
                         [name]="'gebruikersnaam'"></app-input-field>
        <div *ngIf="userNameErrorMessage" class="error-message">
          <p>{{userNameErrorMessage}}</p>
        </div>
        <app-input-field (onInputChange)="emailValueChanged($event)" [fieldType]="fieldTypes.email"
                         [value]="userData.userEmail" [placeholder]="'Email'" [name]="'email'"></app-input-field>
        <div *ngIf="emailErrorMessage" class="error-message">
          <p>{{emailErrorMessage}}</p>
        </div>
      </div>

      <div *ngIf="!toggleEditView">
        <app-button class="logout-button" [invertColor]="true" (click)="logout()" [buttonText]="'Log uit'"></app-button>
      </div>
    </div>
  </div>
</ion-content>
